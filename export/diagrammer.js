const fs=require("fs"),path=require("path");let myArgs=process.argv.slice(2),VERBOSE=!1;"verbose"===myArgs[0]&&(VERBOSE=!0,myArgs=myArgs.slice(1));const raw=fs.readFileSync(path.normalize("./"+myArgs[0]),"utf8");if("lex"===myArgs[1]){const a=require("../lexer.js"),b=a.lexer;b.setInput(raw);let r;for(;"EOF"!=r&&1!=r;)r=b.lex(),console.log("State:"+r+"("+b.yytext+")")}else{const d=require("../diagrammer_parser.js");let s=0;d.parser.yy.USE_GENERATOR=myArgs[1],d.parser.trace=function(r){console.log("TRACE:"+r)},d.parser.debug=function(r){console.log("DEBUG:"+r)},d.parser.yy.result=function(r){console.log(r)},d.parser.yy.parseError=function(r,e){throw console.log("Parsing error found:"),console.log(r),console.log(e),s=1,new Error(r)},d.parse(raw),1==s&&(console.log("Errors...."),process.exit(9)),process.exit(0)}