digraph {
    compound=true;
    rankdir=TD;
    outside1[ fillcolor="#ff0000", label="Group to node", style="filled" ];
    outside3[ fillcolor="#ff0000", label="Inner group to node", style="filled" ];
    subgraph cluster_master {
        ma[ fillcolor="#ff0000", style="filled" ];
        subgraph cluster_innermaster1 {
            style=filled;
            color="#999999";
            ima1[ fillcolor="#ff0000", style="filled" ];
        }//end of innermaster1 undefined
        subgraph cluster_innermaster2 {
            style=filled;
            color="#ffaaaa";
            ima2[ fillcolor="#ff0000", style="filled" ];
        }//end of innermaster2 undefined
    }//end of master undefined
    outside2[ fillcolor="#ffff00", label="Node to group", style="filled" ];
    outside4[ fillcolor="#ffff00", label="Node to inner group", style="filled" ];
    subgraph cluster_other {
        o[ fillcolor="#ffff00", style="filled" ];
    }//end of other undefined
    //links start
    ma->ima1;
    ma->ima2;
    ima2->o;
    outside2->ma[  lhead=cluster_master ];
    ma->outside1[  ltail=cluster_master ];
    ima1->outside3[  ltail=cluster_innermaster1 ];
    outside4->ima2[  lhead=cluster_innermaster2 ];
}
