function seqdiag(yy){yy.result("seqdiag {");yy.result("autonumber = True;");yy.result(" activation = none;");var r=getGraphRoot(yy);for(var i in r.OBJECTS){var o=r.OBJECTS[i];if(o instanceof Group){yy.result(" /*"+o.getName()+getAttrFmt(o,"label"," {0}*/"));for(var j in o.OBJECTS){var z=o.OBJECTS[j];var s=getAttrFmt(z,"style",",style={0}")+getAttrFmt(z,"label",',label="{0}"');if(s.trim()!="")s="["+s.trim().substring(1)+"]";yy.result(z.getName()+s+";")}}else if(o instanceof Node){var s=getAttrFmt(o,"style",",style={0}")+getAttrFmt(o,"label",',label="{0}"')+getAttrFmt(o,"color",',color="{0}"');if(s.trim()!="")s="["+s.trim().substring(1)+"]";yy.result(o.getName()+s+";")}}for(var i in yy.LINKS){var l=yy.LINKS[i];var attrs=[];var lt;var lr=l.right;var ll=l.left;var color=getAttr(l,"color");if(color){attrs.push('color="'+color+'"')}var label=getAttr(l,"label");if(label){if(label.indexOf("::")!==-1){label=label.split("::");attrs.push('note="'+label[1].trim()+'"');attrs.push('label="'+label[0].trim()+'"')}else{attrs.push('label="'+label.trim()+'"')}}if(lr instanceof Group){t+=" lhead=cluster_"+lr.getName();lr=lr.OBJECTS[0];if(lr==undefined){}}var rightName=lr.getName();var dot=false;var dash=false;var broken=false;if(l.linkType.indexOf(".")!==-1){dot=true}else if(l.linkType.indexOf("-")!==-1){dash=true}else if(l.linkType.indexOf("/")!==-1){attrs.push("failed")}if(l.linkType.indexOf("<")!==-1&&l.linkType.indexOf(">")!==-1){if(lr==ll){yy.result(getAttrFmt(l,"label","===BROADCAST:{0}==="));continue}lt="=>"}else if(l.linkType.indexOf("<")!==-1){if(dot)lt="<--";else if(dash)lt="<<--";else lt="<-";rightName=lr.getName()}else if(l.linkType.indexOf(">")!==-1){if(dot)lt="-->";else if(dash)lt="-->>";else lt="->"}else if(dot){yy.result(getAttrFmt(l,"label","...{0}..."));continue}else if(dash){yy.result(getAttrFmt(l,"label","==={0}==="));continue}else{yy.result("ERROR: SHOULD NOT HAPPEN")}yy.result(ll.getName()+" "+lt+" "+rightName+"["+attrs.join(",")+"];")}yy.result("}")}